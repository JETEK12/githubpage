<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Para mi libélula ❤️</title>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@500&display=swap" rel="stylesheet">

<style>
    body {
        margin: 0;
        height: 100vh;
        background: radial-gradient(ellipse at bottom, #1b2735 0%, #090a0f 100%);
        color: white;
        font-family: 'Segoe UI', sans-serif;
        overflow: hidden;
        text-align: center;
    }

    /* --- ESTRELLAS --- */
    .star {
        position: absolute;
        width: 0;
        height: 0;
        border-right: 4px solid transparent;
        border-bottom: 3px solid white;
        border-left: 4px solid transparent;
        transform: rotate(35deg);
        animation-name: twinkle;
        animation-iteration-count: infinite;
        filter: drop-shadow(0 0 2px rgba(255,255,255,0.7));
    }
    .star::before, .star::after {
        content: '';
        position: absolute;
        width: 0;
        height: 0;
        border-right: 4px solid transparent;
        border-bottom: 3px solid white;
        border-left: 4px solid transparent;
        top: -2.5px;
        left: -4px;
    }
    .star::before { transform: rotate(-70deg); }
    .star::after  { transform: rotate(70deg); }

    @keyframes twinkle {
        0%   { opacity: 0.4; transform: scale(0.8) rotate(35deg); }
        50%  { opacity: 1;   transform: scale(1.2) rotate(35deg); }
        100% { opacity: 0.4; transform: scale(0.8) rotate(35deg); }
    }

    /* --- GIRASOLES (mejor estructurado) --- */
    .sunflower {
        position: absolute;
        bottom: -180px; /* puedes ajustar para que aparezcan desde abajo */
        width: 150px;   /* tamaño base; JS puede cambiarlo dinámicamente */
        height: 150px;
        animation: growAndSway 10s linear forwards;
        transform-origin: center bottom;
        pointer-events: none;
    }

    /* Contenedor ocupa toda la flor (centro = 50%/50%) */
    .sunflower .petals-container {
        position: absolute;
        inset: 0; /* top:0; right:0; bottom:0; left:0; */
        width: 100%;
        height: 100%;
        z-index: 5;
    }

    .petal {
        position: absolute;
        top: 50%;
        left: 50%;
        width: 40px;
        height: 75px;
        background: #FFD700;             /* color por defecto; JS lo sobrescribe */
        border-radius: 50% 50% 0 0;
        transform-origin: center center; /* gira sobre su propio centro */
        box-shadow: 0 0 8px rgba(0,0,0,0.25);
        /* no usar margin-left hacks; usamos translate para centrar */
    }

    .petal.back { z-index: 2; }
    .petal.front { z-index: 6; transform: scale(0.95); }

    /* CENTRO perfectamente centrado */
    .center-disc {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 60px;
        height: 60px;
        background-color: #5C4033;
        border-radius: 50%;
        z-index: 10;
        box-shadow: inset 0 0 10px rgba(0,0,0,0.5);
    }

    @keyframes growAndSway {
        0%   { transform: translateY(0) scale(0) rotateZ(0deg); opacity: 0; }
        20%  { opacity: 1; }
        50%  { transform: translateY(-50vh) scale(1) rotateZ(-10deg); opacity: 1; }
        100% { transform: translateY(-100vh) scale(1.2) rotateZ(10deg); opacity: 0; }
    }

    /* --- CORAZONES --- */
    .heart {
        position: absolute; bottom: 0; color: red; font-size: 24px;
        animation: rise 3s linear forwards;
    }
    @keyframes rise {
        from { transform: translateY(0) scale(1); opacity: 1; }
        to   { transform: translateY(-100vh) scale(1.5); opacity: 0; }
    }

    /* --- TEXTO --- */
    h1, p {
        position: relative;
        z-index: 100;
        text-shadow:
            -1px -1px 0 #000,
             1px -1px 0 #000,
            -1px  1px 0 #000,
             1px  1px 0 #000;
    }
    h1 { margin-top: 20vh; font-size: 2.5em; }

    p {
        max-width: 600px;
        margin: 20px auto;
        font-size: 1.8em;
        line-height: 1.6em;
        text-align: center;
        font-family: 'Dancing Script', cursive;
        animation: fadeInText 3s ease-in forwards;
        opacity: 0;
    }

    @keyframes fadeInText {
        from { opacity: 0; }
        to   { opacity: 1; }
    }

    #mensajeFinal {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        z-index: 200;
        font-family: 'Dancing Script', cursive;
        font-size: 2.3em;
        color: #FFD700;
        text-shadow:
            -1px -1px 0 #000,
             1px -1px 0 #000,
            -1px  1px 0 #000,
             1px  1px 0 #000;
        opacity: 0;
        animation: fadeInText 4s ease-in forwards;
        animation-delay: 1s;
        width: 90%;
        max-width: 800px;
    }
</style>
</head>
<body>

<h1>Hola amada mia❤️</h1>

<p>
    Se dice que las pinturas rupestres se hicieron para representar algo,<br>
    las palabras se hicieron para expresar y transmitir,<br>
    y es curioso como al ver tus ojos y sentir tu calor,<br>
    no puedo decir palabra alguna, y no hay imagen que pueda igualar tan maravilloso sentir❤️
</p>

<script>
    // --- ESTRELLAS ---
    const starContainer = document.body;
    for (let i = 0; i < 150; i++) {
        let star = document.createElement("div");
        star.classList.add("star");
        star.style.top = Math.random() * 100 + "vh";
        star.style.left = Math.random() * 100 + "vw";
        star.style.animationDuration = (Math.random() * 3 + 2) + 's';
        star.style.animationDelay = Math.random() * 3 + 's';
        const size = Math.random() * 0.5 + 0.5;
        star.style.transform = `scale(${size}) rotate(35deg)`;
        starContainer.appendChild(star);
    }

    // --- CORAZONES ---
    function createHeart() {
        let heart = document.createElement("div");
        heart.classList.add("heart");
        heart.style.left = Math.random() * 100 + "vw";
        heart.innerHTML = "❤️";
        document.body.appendChild(heart);
        setTimeout(() => heart.remove(), 3000);
    }
    let heartInterval = setInterval(createHeart, 200);
    setTimeout(() => clearInterval(heartInterval), 1000);

    // --- GIRASOLES MEJORADOS ---
    const flowerColors = [
        { front: '#FFD700', back: '#EAA200' }, // Girasol (Original)
        { front: '#FFC0CB', back: '#FF69B4' }, // Rosa
        { front: '#ADD8E6', back: '#87CEEB' }, // Azul Claro
        { front: '#E6E6FA', back: '#D8BFD8' }, // Lavanda
        { front: '#FFA07A', back: '#FA8072' }, // Salmón
        { front: '#98FB98', back: '#3CB371' }, // Verde Pálido
        { front: '#FFFFFF', back: '#D3D3D3' }  // Blanco
    ];

    let contadorGirasoles = 0;

    function mostrarMensajeFinal() {
        const mensaje = document.createElement('h2');
        mensaje.id = 'mensajeFinal';
        mensaje.innerHTML = 'Que estas flores eternas representen lo mucho que te amo... y aun así es poco &lt;3';
        document.body.appendChild(mensaje);
    }

    function createSunflower() {
        // Parámetros fáciles de ajustar
        const flowerSize = 150;    // tamaño total de la flor (px)
        const petalWidth = 40;
        const petalHeight = 75;
        const backPetals = 8;
        const frontPetals = 10;
        const centerRatio = 0.40;  // tamaño del centro respecto a flowerSize

        // colores
        const colorSet = flowerColors[Math.floor(Math.random() * flowerColors.length)];

        // estructura
        const sunflower = document.createElement('div');
        sunflower.classList.add('sunflower');
        sunflower.style.width = flowerSize + 'px';
        sunflower.style.height = flowerSize + 'px';

        const petalsContainer = document.createElement('div');
        petalsContainer.classList.add('petals-container');

        // calcular radio dinámico para que los pétalos giren alrededor del centro
        // Se calcula desde la mitad del contenedor hacia fuera, ajustado por la altura del pétalo
        const radius = Math.round((flowerSize / 2) - (petalHeight / 2) + 6); // ajusta +6 para que no queden demasiado pegados

        // pétalos traseros
        for (let i = 0; i < backPetals; i++) {
            const petal = document.createElement('div');
            petal.classList.add('petal', 'back');
            petal.style.width = petalWidth + 'px';
            petal.style.height = petalHeight + 'px';
            petal.style.backgroundColor = colorSet.back;
            petal.style.top = '50%';
            petal.style.left = '50%';
            petal.style.transformOrigin = 'center center';
            const rotation = (360 / backPetals) * i;
            // translate(-50%,-50%) centra el pétalo en el centro del contenedor,
            // luego rotate(...) y translateY(-radius) lo llevan hacia fuera de forma circular
            petal.style.transform = `translate(-50%,-50%) rotate(${rotation}deg) translateY(-${radius}px)`;
            petalsContainer.appendChild(petal);
        }

        // pétalos frontales (con pequeño offset para rellenar huecos)
        const offset = 360 / (frontPetals * 2);
        for (let i = 0; i < frontPetals; i++) {
            const petal = document.createElement('div');
            petal.classList.add('petal', 'front');
            petal.style.width = petalWidth + 'px';
            petal.style.height = petalHeight + 'px';
            petal.style.backgroundColor = colorSet.front;
            petal.style.top = '50%';
            petal.style.left = '50%';
            petal.style.transformOrigin = 'center center';
            const rotation = ((360 / frontPetals) * i) + offset;
            petal.style.transform = `translate(-50%,-50%) rotate(${rotation}deg) translateY(-${radius}px)`;
            petalsContainer.appendChild(petal);
        }

        // centro (tamaño proporcional)
        const centerDisc = document.createElement('div');
        centerDisc.classList.add('center-disc');
        const centerSize = Math.round(flowerSize * centerRatio);
        centerDisc.style.width = centerSize + 'px';
        centerDisc.style.height = centerSize + 'px';
        centerDisc.style.top = '50%';
        centerDisc.style.left = '50%';
        centerDisc.style.transform = 'translate(-50%,-50%)';
        centerDisc.style.backgroundColor = '#5C4033';
        centerDisc.style.boxShadow = 'inset 0 0 10px rgba(0,0,0,0.5)';

        petalsContainer.appendChild(centerDisc);
        sunflower.appendChild(petalsContainer);

        // posición aleatoria horizontal y duración de animación
        sunflower.style.left = (Math.random() * 75 + 5) + 'vw';
        sunflower.style.animationDuration = (Math.random() * 5 + 8) + 's';

        document.body.appendChild(sunflower);

        // contador y mensaje final
        contadorGirasoles++;
        if (contadorGirasoles === 5) mostrarMensajeFinal();

        // limpiar flor después de un tiempo
        setTimeout(() => { sunflower.remove(); }, 13000);
    }

    // lanzar flores periódicamente
    setInterval(createSunflower, 2000);
</script>

</body>
</html>
